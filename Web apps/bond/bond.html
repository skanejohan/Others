<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The physical world of James Bond</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> <!-- TODO REPLACE WITH FONT -->
    <link rel="stylesheet" type="text/css" href="bond.css">
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyAIQ3Vxs3dAPbkzeotgR4H6xu2sgXhn3ng"></script>
</head>

<body onresize="updateElements()">

    <div class="header">  
        <div class="left text-centered">
            <h3 class="header-title">The physical world of James Bond</h3>
        </div>
        <div class="right text-centered">
            <select class="header-selector" id="movieSelector"></select>
        </div>
    </div>
    
    <div id="content" class="content">
        <div class="left">
            <div class="container">
                <div id="mapdiv">
                </div>
            </div>
        </div>
        <div class="right" id="description">
        </div>
    </div>
    
    <div id="footer" class="footer">
        <div id="locationdiv"></div>
        <input id="streetviewbutton" type="button" class="viewbutton" value="Street View" disabled="true"/>
        <input id="overviewbutton" type="button" class="viewbutton" value="Overview" disabled="true"/>
        <input id="imageviewbutton" type="button" class="viewbutton" value="Image View" disabled="true"/>
    </div>

    <div id="popup" class="popupcontainer">
        <div id="popupheader">
            <img id="popupclose" src="img/close.png" onclick="closePopup()" title="Close"/>
        </div>
        <div id="popupcontent">
        </div>
    </div>  
    
    <script src="movies/1962_dn.js"></script>
    <script src="movies/1964_gf.js"></script>
    <script src="movies/1969_ohmss.js"></script>
    <script src="movies/1971_daf.js"></script>
    <script src="movies/1974_tmwtgg.js"></script>
    <script src="bond.js"></script>
    <script type="text/javascript">

        var contentDiv = document.getElementById("content");
        var mapDiv = document.getElementById("mapdiv");
        var descriptionDiv = document.getElementById("description");
        var footerDiv = document.getElementById("footer");
        var locationDiv = document.getElementById("locationdiv");
        var streetViewButton = document.getElementById("streetviewbutton");
        var overviewButton = document.getElementById("overviewbutton");
        var imageViewButton = document.getElementById("imageviewbutton");
        var popupDiv = document.getElementById("popup");
        var popupHeaderDiv = document.getElementById("popupheader");
        var popupContentDiv = document.getElementById("popupcontent");

        var updateElements = function() {
            footerDiv.style.setProperty("top", (window.innerHeight - 50) + "px");
            contentDiv.style.setProperty("height", (window.innerHeight - 100) + "px");
            popupHeaderDiv.style.setProperty("width", (window.innerWidth - 200) + "px");
            popupContentDiv.style.setProperty("width", (window.innerWidth - 200) + "px");
            popupContentDiv.style.setProperty("height", (window.innerHeight - 200) + "px");
            streetViewButton.style.setProperty("margin-left", (window.innerWidth - 380) + "px");
            overviewButton.style.setProperty("margin-left", (window.innerWidth - 260) + "px");
            imageViewButton.style.setProperty("margin-left", (window.innerWidth - 140) + "px");
        }

        var closePopup = function() {
            popupDiv.style.setProperty('visibility', 'hidden');
        }

        let ui = new UI({
            mapDiv: mapDiv,
            popupDiv: popupDiv,
            descriptionDiv: descriptionDiv,
            popupContentDiv: popupContentDiv,
            currentLocationDiv: footerDiv,
            locationNameDiv: locationDiv,
            streetViewButton: streetViewButton,
            overviewButton: overviewButton,
            imageViewButton: imageViewButton,
            movieSelector: movieSelector,
            movies: [dn, ohmss, daf, tmwtgg, gf],
            movie: gf,
        });
        updateElements();
    </script>

</body>
